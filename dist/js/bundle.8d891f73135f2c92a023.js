webpackJsonp([0],[,function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}i(2),i(4);var s=i(6),h=a(s);i(9);var o=i(11),d=a(o),c=i(13),n=a(c),l=i(30),r=a(l),g=i(31),m=a(g),u=u||{};u.game=new h.default.Game("100%","100%",h.default.AUTO,"root"),u.BootState=d.default,u.LoadState=n.default,u.StartState=r.default,u.PlayState=m.default,u.game.state.add("Boot",u.BootState),u.game.state.add("Load",u.LoadState),u.game.state.add("Start",u.StartState),u.game.state.add("Play",u.PlayState),u.game.state.start("Boot")},,,,,,,,function(t,e){},,function(t,e,i){"use strict";var a=i(12),s=function(t){return t&&t.__esModule?t:{default:t}}(a),h={init:function(){this.game.stage.backgroundColor="#000",this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0},preload:function(){this.game.load.image("preload",s.default)},create:function(){this.game.state.start("Load")}};t.exports=h},function(t,e,i){t.exports=i.p+"image/57ca1a2085d82f0574e3ef740b9a5ead.gif"},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var s=i(14),h=a(s),o=i(15),d=a(o),c=i(16),n=a(c),l=i(17),r=a(l),g=i(18),m=a(g),u=i(19),f=a(u),p=i(20),b=a(p),y=i(21),w=a(y),v=i(22),_=a(v),x=i(23),k=a(x),S=i(24),T=a(S),P=i(25),C=a(P),B=i(26),I=a(B),E=i(27),L=a(E),M=i(28),A=a(M),O=i(29),F=a(O),H={init:function(){this.game.stage.backgroundColor="#000"},preload:function(){var t=this.game.add.sprite(this.game.width/2-110,this.game.height/2-9.5,"preload");this.game.load.setPreloadSprite(t),this.game.load.image("bg",h.default),this.game.load.image("longform_btn_click",d.default),this.game.load.image("longform_btn",n.default),this.game.load.image("startgame_btn_click",r.default),this.game.load.image("startgame_btn",m.default),this.game.load.image("title",f.default),this.game.load.image("firstbg",b.default),this.game.load.spritesheet("mycloud",w.default,224,224),this.game.load.image("darksky",_.default),this.game.load.image("blackcloud1",k.default),this.game.load.image("blackcloud2",T.default),this.game.load.image("bigcloud",C.default),this.game.load.spritesheet("hail",I.default,93,93),this.game.load.spritesheet("corn",L.default,240,189),this.game.load.image("redheart",A.default),this.game.load.image("blackheart",F.default),this.game.load.onFileComplete.add(function(t){})},create:function(){this.game.state.start("Play")}};t.exports=H},function(t,e,i){t.exports=i.p+"image/8acfc93fdbf97cabd8ff50d98cf2c770.jpg"},function(t,e,i){t.exports=i.p+"image/80ff2d08a47ab73700af4256b384423f.png"},function(t,e,i){t.exports=i.p+"image/efe42e1bf0851a292148c3c4c058d173.png"},function(t,e,i){t.exports=i.p+"image/32b44ebaad908e963b4b13d2487b0692.png"},function(t,e,i){t.exports=i.p+"image/fa17377be651a8507dcfc594b039592c.png"},function(t,e,i){t.exports=i.p+"image/92d3961850f918db6308e255f48d7507.png"},function(t,e,i){t.exports=i.p+"image/32e811048ebfdec90502dcecd9936b81.jpg"},function(t,e,i){t.exports=i.p+"image/7847e55ad513120884ecc9deb42c4e5f.png"},function(t,e,i){t.exports=i.p+"image/551ba1d984cae4c1c00500d6d223aeb9.png"},function(t,e,i){t.exports=i.p+"image/c511e3775ef5501d83e01951b7da2bdb.png"},function(t,e,i){t.exports=i.p+"image/943dd14a36d2fa331fd0a2b82deddd44.png"},function(t,e,i){t.exports=i.p+"image/8457c4ec8c7bbfd20206858b1e5848b8.png"},function(t,e,i){t.exports=i.p+"image/73fa7200f3778acadcf517b43d03f2bc.png"},function(t,e,i){t.exports=i.p+"image/13274755cb99d12a9984a2e1e25a2d1b.png"},function(t,e,i){t.exports=i.p+"image/d4e7167d0f06efd370f57d29ac790ed9.png"},function(t,e,i){t.exports=i.p+"image/953dc0d8aecec3d88267c9044f1eaeaa.png"},function(t,e,i){"use strict";var a={create:function(){var t=this.game.add.image(0,0,"bg");t.width=this.game.world.width,t.height=this.game.world.height;var e=this.game.add.image(0,-100,"title");e.width=1.1*this.game.world.width,e.height=.6*this.game.world.height,this.game.add.tween(e).to({y:0},1e3,Phaser.Easing.Bounce.Out,!0).start(),this.createStartPageBtn("startgame_btn",!1),this.createStartPageBtn("longform_btn",!1)},createStartPageBtn:function(t,e){var i=this.game.world.centerX,a=.9*this.game.world.height,s=a-72,h=e?t+"_click":t;if("startgame_btn"===t){var o=this.game.add.button(i,s,h,this.onStartClick,this,1,1,0);o.anchor.setTo(.5,.2),o.width=150,o.height=48}else if("longform_btn"===t){var d=this.game.add.button(i,a,h,this.onLongformClick,this,1,1,0);d.anchor.setTo(.5,.4),d.width=150,d.height=48}},onStartClick:function(){this.createStartPageBtn("startgame_btn",!0),this.game.state.start("Play",!0,!1,"level1")},onLongformClick:function(){this.createStartPageBtn("longform_btn",!0),console.log("longform")}};t.exports=a},function(t,e,i){"use strict";var a={init:function(t){this.level="level1",this.game.stage.backgroundColor="#000"},create:function(){this.game.physics.startSystem(Phaser.Physics.ARCADE),this.scenesFactory(this.level),this.settingMyCloud()},update:function(){this.game.physics.arcade.overlap(this.hails,this.mycloud,this.hitmyCloud,null,this),this.game.physics.arcade.overlap(this.hails,this.corns,this.hitCorn,null,this)},render:function(){},hitCorn:function(t,e){switch(t.kill(),--e.life){case 3:e.frame=0;break;case 2:e.frame=1;break;case 1:e.frame=2;break;case 0:e.frame=3}this.mycloudLifeHandler(--this.mycloud.life)},hitmyCloud:function(t,e){e.kill(),this.hailCrushed(e.x,e.y)},cornInitialize:function(){this.corns=this.game.add.group(),this.corns.enableBody=!0;var t=(this.game.cache.getImage("corn").width,.785*this.game.height),e=1*this.game.width/6,i=1*this.game.width/2,a=5*this.game.width/6;this.left_corn=this.game.add.sprite(e,t,"corn"),this.left_corn.frame=0,this.left_corn.scale.setTo(.5,.5),this.left_corn.anchor.setTo(.5,0),this.left_corn.life=3,this.corns.add(this.left_corn),this.game.physics.arcade.enable(this.left_corn),this.middle_corn=this.game.add.sprite(i,t,"corn"),this.middle_corn.frame=0,this.middle_corn.scale.setTo(.5,.5),this.middle_corn.anchor.setTo(.5,0),this.middle_corn.life=3,this.corns.add(this.middle_corn),this.game.physics.arcade.enable(this.middle_corn),this.right_corn=this.game.add.sprite(a,t,"corn"),this.right_corn.frame=0,this.right_corn.scale.setTo(.5,.5),this.right_corn.anchor.setTo(.5,0),this.right_corn.life=3,this.corns.add(this.right_corn),this.game.physics.arcade.enable(this.right_corn)},settingMyCloud:function(){var t=this.game.world.centerX,e=.65*this.game.world.height;this.mycloud=this.game.add.sprite(t,e,"mycloud"),this.mycloud.anchor.setTo(.5,.5),this.mycloud.life=3,this.mycloud.spritescale=.6,this.mycloud.scale.setTo(this.mycloud.spritescale),this.mycloud.animations.add("run",[1,2,3,4],10,!0),this.game.physics.arcade.enable(this.mycloud),this.mycloud.body.collideWorldBounds=!0,this.mycloud.inputEnabled=!0,this.mycloud.touching=!1,this.mycloud.currentPosition=0,this.mycloudMove()},mycloudMove:function(){var t=this.mycloud.spritescale;this.mycloud.events.onInputDown.add(function(){this.mycloud.touching=!0},this),this.mycloud.events.onInputUp.add(function(){this.mycloud.touching=!1,this.mycloud.animations.stop(),this.mycloud.frame=0},this),this.game.input.addMoveCallback(function(e,i,a,s){var h=this.mycloud.currentPosition,o=1*this.game.width/4,d=1*this.game.width/2,c=3*this.game.width/4,n=!1;i>this.mycloud.x+this.mycloud.width*this.mycloud.spritescale?(this.mycloud.scale.setTo("-"+t,t),++h,n=!0):i<this.mycloud.x-this.mycloud.width*this.mycloud.spritescale?(this.mycloud.scale.setTo(t),--h,n=!0):(this.mycloud.animations.stop(),this.mycloud.frame=0,n=!0),n&&(this.mycloud.animations.play("run"),0==h?this.mycloud.x=d:h<=-1?(this.mycloud.x=o,h=-1):h>=1&&(this.mycloud.x=c,h=1),this.mycloud.currentPosition=h)},this)},scenesFactory:function(t){if("level1"===t)var e=this.game.add.image(0,0,"firstbg");e.width=this.game.world.width,e.height=this.game.world.height,this.cornInitialize();var i=this.game.add.image(0,-100,"darksky");i.width=this.game.world.width,i.height=.35*this.game.world.height;var a=this.game.add.image(-150,0,"blackcloud1"),s=this.game.cache.getImage("blackcloud1");a.width=.5*this.game.world.width,a.height=a.width/s.width*s.height;var h=this.game.add.image(300,0,"blackcloud2"),o=this.game.cache.getImage("blackcloud2");h.width=.65*this.game.world.width,h.height=h.width/o.width*o.height,this.bigcloud=this.game.add.image(this.game.world.centerX,-200,"bigcloud"),this.bigcloud.anchor.setTo(.5,0);var d=this.game.cache.getImage("bigcloud");this.bigcloud.width=this.game.world.width,this.bigcloud.height=this.bigcloud.width/d.width*d.height,this.game.add.tween(i).to({y:0},1e3,Phaser.Easing.Bounce.In,!0).start(),this.game.add.tween(a).to({x:-50},500,Phaser.Easing.Linear.In,!0,1e3).start(),this.game.add.tween(h).to({x:200},500,Phaser.Easing.Linear.In,!0,1200).start(),this.bigcloud.Yposition=10;var c=this.game.add.tween(this.bigcloud).to({y:this.bigcloud.Yposition},700,Phaser.Easing.Sinusoidal.InOut,!0,1700);c.start(),c.onComplete.add(this.onStart,this)},onStart:function(){this.mycloudLifeHandler(this.mycloud.life),this.hails=this.game.add.group(),this.hails.enableBody=!0,this.hailingTimer=this.game.time.events,this.hailingTimer.loop(1*Phaser.Timer.SECOND,this.hailing,this),this.hailcrushes=this.game.add.group(),this.bighails=this.game.add.group(),this.hails.enableBody=!0,this.game.time.events.loop(3*Phaser.Timer.SECOND,this.bighailAppear,this)},heartmaker:function(t){var e=t[0],i=t[1],a=t[2];this.heart3=this.game.add.image(10,20,e),this.heart2=this.game.add.image(this.heart3.x+.6*this.heart3.width,20,i),this.heart1=this.game.add.image(this.heart2.x+.6*this.heart2.width,20,a),this.heart3.scale.setTo(.6),this.heart2.scale.setTo(.6),this.heart1.scale.setTo(.6)},bighailAppear:function(){var t=this.game.world.centerX,e=this.game.height/2,i=this.bighails.getFirstExists(!1,!0,t,e,"hail");i.scale.setTo(1.5,1.5),i.anchor.setTo(.5,1),this.clearhails()},clearhails:function(){this.hailingTimer.stop(),this.hails.forEachAlive(function(t){t.kill()},this)},hailing:function(){var t=this.game.cache.getImage("hail").width/3,e=this.game.rnd.integerInRange(0,this.game.width-t),i=this.bigcloud.y+this.bigcloud.height,a=this.hails.getFirstExists(!1,!0,e,i,"hail");a.scale.setTo(.5,.5),this.game.physics.arcade.enable(a),a.body.velocity.y=300,a.outOfBoundsKill=!0,a.checkWorldBounds=!0},hailCrushed:function(t,e){var i=this.hailcrushes.getFirstExists(!1,!0,t,e,"hail");i.anchor.setTo(.5,.5),i.scale.setTo(.5,.5);var a=i.animations.add("hail");a.play(60,!1,!1),a.onComplete.addOnce(function(){i.destroy()},this)},mycloudLifeHandler:function(t){for(var e=[],i=0;i<3;i++)e[i]=i<=t-1?"redheart":"blackheart";this.heartmaker(e)}};t.exports=a}],[1]);